<app-dialogbox></app-dialogbox>
<div class="row myrow">
  <div class="col-sm-8">
    <div class="row myrow">

      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          
            <div class="card-body" *ngFor="let mydata of kwh">
              <h4>{{mydata.KWH}}</h4>
              <h5>KWH</h5>
            
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          <div>
            <div class="card-body" *ngFor="let mydata of kvarh">
              <h4>{{mydata.kVARh}}</h4>
              <h5>KVARH</h5> 
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          <div>
            <div class="card-body" *ngFor="let mydata of kvah">
              <h4>{{mydata.kVAh}}</h4>
              <h5>KVAH</h5>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          <div>
            <div class="card-body"><br>
              
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          <div>
            <div class="card-body"><br>
              
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card" style="height:100px;">
          <div>
            <div class="card-body"><br>
              
            </div>
          </div>
        </div>
      </div>

      </div>
  </div>
  <div class="col-sm-4">
    <div class="row myrow">
    <div class="col-sm-12">
      <div class="card" style="height:210px;">
        <div>
          <div class="card-body"><br>
            
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
</div>
<hr>
<div class="row myrow">
  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_c()" data-toggle="modal" data-target="#exampleModal">
          <i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Current</h5>

        <div class="card-body" *ngFor="let mydata of data"><br>

          <h3>{{mydata.Current_Avg}}</h3>
          <h4>Ampere</h4>

        </div>


      </div>



    </div>
  </div>
  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_v()" data-toggle="modal" data-target="#exampleModal1">
          <i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Voltage</h5>
        <div class="card-body" *ngFor="let mydata of data1"><br>
          <h3>{{mydata.Voltage_Avg}}</h3>
          <h4>Volt</h4>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_p()" data-toggle="modal" data-target="#exampleModal2">
          <i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Power Factor</h5>
        <div class="card-body" *ngFor="let mydata of data2"><br>
          <h3>{{mydata.Power_Factor}}</h3>
          <h4>Unit</h4>
        </div>
      </div>
    </div>
  </div>


  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_apow()" data-toggle="modal"
          data-target="#exampleModal3"><i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Active Power</h5>
        <div class="card-body" *ngFor="let mydata of data3"><br>

          <h3>{{mydata.Active_Power}}</h3>
          <h4>Unit</h4>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_rpow()" data-toggle="modal"
          data-target="#exampleModal4"><i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Reactive Power</h5>
        <div class="card-body" *ngFor="let mydata of data4"><br>
          <h3>{{mydata.Reactive_Power}}</h3>
          <h4>Unit</h4>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card">
      <div>
        <fa-icon class="icon" [icon]="faChartLine" (click)="graph_app()" data-toggle="modal"
          data-target="#exampleModal5"><i class="far fa-chart-line"></i></fa-icon>
        <h5 class="card-title">Apparent Power</h5>
        <div class="card-body" *ngFor="let mydata of data5"><br>
          <h3>{{mydata.Apparent_Power}}</h3>
          <h4>Unit</h4>
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-4" *ngFor="let mydata of cardData">
    <div class="card">
      <div>
        <h5 class="card-title">{{mydata.data_type}}</h5>
        <fa-icon class="deleteicon" [icon]="faTimes" (click)="deleteCard(mydata.id)"></fa-icon>
        <div class="card-body"><br>
          <h3>{{mydata.val}}</h3>
          <h4>{{mydata.unit}}</h4>
        </div>
      </div>
    </div>
  </div>

  
  <div class="col-sm-4">
    <div class="card">
      <div>
        <div class="card-body">
          <fa-icon id="addCardIcon" class="icon" [icon]="faPlusCircle" (click)="show()"></fa-icon>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- add card form -->
<div [style.display]="showModal ? 'block' : 'none'" class="modal" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

  <div class="modal-dialog"  role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="myModalLabel">ADD PARAMETER CARD</h5>
    </div>
    <div class="modal-body">
              <form [formGroup]="addCardForm" novalidate (ngSubmit)="onSubmit()">

                <div class="form-group">
                <select class="custom-select" id="parameters" name="parameters" formControlName="data_type" [(ngModel)]="parameters">
                  <option value="" disabled>Select Parameter</option>
                  <option  value="Reactive Power">Reactive Power</option>
                  <option  value="Active Power">Active Power</option>
                  <option  value="Apparent Power">Apparent Power</option>
                  <option  value="Power">Power</option>
                  <option  value="Voltage">Voltage</option>
                  <option  value="Current">Current</option>
                   
                   
                </select>   
              </div>    
                       
                       
                             <div class="form-group">
                                
                                <input type="text" formControlName="unit" placeholder="Enter Unit" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.unit.errors }" />
                                <div *ngIf="submitted && f.unit.errors" class="invalid-feedback">
                                   <div *ngIf="f.unit.errors">Unit is required</div>
                                  
                                </div>
                             </div>
                          
                      
           
           <button type="submit" class="btn btn-primary" [disabled]="addCardForm.invalid">Add</button>&nbsp;
           <button type="button" class="btn btn-dark" data-dismiss="modal" (click) = "hide()">Cancel</button>
  
              </form>
   
  
  </div>
    
  </div>
  </div>
  </div>

<!-- Modal for Current Graph -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Current Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer" style="height: 250px; width:250px;">



      </div>

    </div>
  </div>
</div>
<!-- Modal for Voltage Graph -->
<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Voltage Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer1" style="height: 250px; width:250px;">

      </div>

    </div>
  </div>
</div>
<!-- Modal for Power Graph -->
<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Power Factor Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer2" style="height: 250px; width:250px;">



      </div>

    </div>
  </div>
</div>
<!-- Modal for Active Power Graph -->
<div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Active Power Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer3" style="height: 250px; width:250px;">



      </div>

    </div>
  </div>
</div>
<!-- Modal for Reactive Power Graph -->
<div class="modal fade" id="exampleModal4" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Reactive Power Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer4" style="height: 250px; width:250px;">



      </div>

    </div>
  </div>
</div>
<!-- Modal for Apparent Power Graph -->
<div class="modal fade" id="exampleModal5" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Apparent Power Chart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="chartContainer5" style="height: 250px; width:250px;">



      </div>

    </div>
  </div>
</div>